{
  "workflowId": 0,
  "projectId": 1,
  "version": 1,
  "draft": 1,
  "name": "Certificat de la Diputació de préstec v3",
  "description": "Préstec de dispositius des de LOOP",
  "parties": [
    {
      "id": 1,
      "name": "appLOOP",
      "type": "API",
      "capability": null,
      "did": null,
      "start": true,
      "apiToken": null
    }
  ],
  "documents": [
    {
      "id": 1,
      "name": "usuari",
      "type": "persona",
      "hasFile": false,
      "document": null,
      "certificateId": null,
      "specifyFields": false,
      "fields": false
    },
    {
      "id": 2,
      "name": "dispositiu",
      "type": "json",
      "hasFile": false,
      "document": null,
      "certificateId": null,
      "specifyFields": true,
      "fields": [
        {
          "id": 1,
          "label": "deviceId",
          "type": "number",
          "description": null
        },
        {
          "id": 2,
          "label": "deviceType",
          "type": "text",
          "description": null
        },
        {
          "id": 3,
          "label": "deviceName",
          "type": "text",
          "description": null
        },
        {
          "id": 4,
          "label": "deviceSerial",
          "type": "text",
          "description": null
        }
      ]
    },
    {
      "id": 3,
      "name": "proof",
      "type": "file",
      "hasFile": true,
      "document": "image",
      "certificateId": null,
      "specifyFields": false,
      "fields": false
    },
    {
      "id": 4,
      "name": "certificat",
      "type": "certificate",
      "hasFile": false,
      "document": null,
      "certificateId": 2,
      "specifyFields": false,
      "fields": false
    },
    {
      "id": 5,
      "name": "request",
      "type": "json",
      "hasFile": false,
      "document": null,
      "certificateId": null,
      "specifyFields": true,
      "fields": [
        {
          "id": 1,
          "label": "h_appToken",
          "type": "string",
          "description": null
        },
        {
          "id": 2,
          "label": "h_sessionToken",
          "type": "string",
          "description": null
        },
        {
          "id": 3,
          "label": "f_uploadManifest",
          "type": "string",
          "description": null
        },
        {
          "id": 4,
          "label": "f_filename[0]",
          "type": "string",
          "description": null
        }
      ]
    }
  ],
  "actions": [
    {
      "id": 1,
      "scenario": "Alta",
      "type": "trigger",
      "action": 1,
      "party": 1,
      "document": [1, 2, 5],
      "certificate": null,
      "integrationId": null,
      "endpoint": null
    },
    {
      "id": 2,
      "scenario": "Upload signature",
      "type": "trigger",
      "action": 3,
      "party": 1,
      "document": [3],
      "integrationId": null,
      "endpoint": null
    },
    {
      "id": 3,
      "scenario": "Generar certificat",
      "type": "auto",
      "action": 1,
      "party": null,
      "document": [1, 2, 3],
      "certificate": 4,
      "integrationId": null,
      "endpoint": null
    },
    {
      "id": 4,
      "scenario": "Enviar a TICGal",
      "type": "auto",
      "action": 3,
      "party": null,
      "document": [5],
      "certificate": null,
      "integrationId": 2,
      "endpoint": "getDeviceById"
    }
  ]
}
